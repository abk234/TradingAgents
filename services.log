[0;34müöÄ Starting Eddie AI - Trading Assistant...[0m
[0;32mStarting Backend API (FastAPI)...[0m
[0;32mStarting Frontend (Next.js)...[0m
[0;34m‚ú® Services started![0m
   Backend: http://localhost:8005
   Frontend: http://localhost:3005
[0;34mPress Ctrl+C to stop all services.[0m
INFO:     Will watch for changes in these directories: ['/Users/lxupkzwjs/Developer/eval/TradingAgents']
INFO:     Uvicorn running on http://0.0.0.0:8005 (Press CTRL+C to quit)
INFO:     Started reloader process [14264] using WatchFiles

> web-app@0.1.0 dev
> next dev -p 3005

   ‚ñ≤ Next.js 16.0.3 (Turbopack)
   - Local:         http://localhost:3005
   - Network:       http://192.0.2.42:3005

 ‚úì Starting...
 ‚úì Ready in 399ms
INFO:watchfiles.main:52 changes detected
INFO:watchfiles.main:1 change detected
INFO:     Started server process [14372]
INFO:     Waiting for application startup.
INFO:api:Initializing Conversational Agent...
INFO:tradingagents.bot.agent:‚úì TradingAgent initialized with 23 tools
INFO:api:Conversational Agent initialized successfully.
INFO:     Application startup complete.
 ‚óã Compiling / ...
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:28 changes detected
 GET / 200 in 7.3s (compile: 7.2s, render: 123ms)
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:1 change detected
 GET / 200 in 35ms (compile: 3ms, render: 31ms)
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:56239 - "OPTIONS /chat HTTP/1.1" 200 OK
INFO:tradingagents.bot.conversational_agent:Detected intent: CHAT for message: Hello...
INFO:     127.0.0.1:56239 - "POST /chat HTTP/1.1" 200 OK
INFO:tradingagents.bot.conversational_agent:Detected intent: ANALYSIS for message: Analyze AAPL...
 GET / 200 in 76ms (compile: 5ms, render: 71ms)
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:tradingagents.bot.tools:üîç Starting comprehensive analysis for AAPL
INFO:tradingagents.bot.tools:üìä Activating specialized agent team...
INFO:tradingagents.database.connection:‚úì Monitored connection pool created for 'investment_intelligence'
INFO:tradingagents.monitoring.langfuse_integration:‚úì Langfuse tracing enabled (host: http://localhost:3000, session: default)
INFO:tradingagents.graph.trading_graph:‚úì Langfuse tracing enabled
INFO:tradingagents.graph.trading_graph:Detected Market Regime: VOLATILE
INFO:tradingagents.graph.trading_graph:Adjusted risk discussion rounds to 5 (Volatile Market)
INFO:tradingagents.graph.trading_graph:‚úì RAG system initialized
INFO:tradingagents.portfolio.position_sizer:Position sizer initialized: $10,000.00 portfolio, moderate risk, 10.0% max position
INFO:tradingagents.graph.profitability_enhancer:Profitability enhancer initialized
INFO:tradingagents.graph.trading_graph:‚úì Profitability enhancer initialized
INFO:tradingagents.graph.trading_graph:Using timeout of 300s for Ollama model: llama3.1
INFO:tradingagents.analyze.analyzer:‚úì DeepAnalyzer initialized
INFO:tradingagents.bot.tools:ü§ñ Running multi-agent analysis (30-90 seconds)...
INFO:tradingagents.analyze.analyzer:
======================================================================
INFO:tradingagents.analyze.analyzer:DEEP ANALYSIS: AAPL on 2025-11-19
INFO:tradingagents.analyze.analyzer:======================================================================

INFO:tradingagents.validation.circuit_breaker:Running circuit breaker check for AAPL...
INFO:tradingagents.validation.circuit_breaker:Circuit breaker passed for AAPL. Confidence: 10.0/10
INFO:tradingagents.database.rag_ops:Found 2 similar analyses
INFO:tradingagents.rag.context_retriever:Found 2 similar analyses for AAPL
INFO:tradingagents.database.rag_ops:Found 5 similar analyses
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:5 changes detected
 GET / 200 in 44ms (compile: 3ms, render: 41ms)
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:tradingagents.bot.conversational_agent:Detected intent: CHAT for message: Hello, who are you?...
 GET / 200 in 38ms (compile: 3ms, render: 34ms)
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
Error fetching Alpaca data for AAPL: Alpaca API keys not found. Please set ALPACA_API_KEY and ALPACA_SECRET_KEY.
Error fetching Polygon data for AAPL: Polygon API key not found. Please set POLYGON_API_KEY.
DEBUG: get_stock_data - Primary: [yfinance] | Full fallback order: [yfinance ‚Üí alpha_vantage ‚Üí local ‚Üí alpaca ‚Üí polygon]
DEBUG: Attempting PRIMARY vendor 'yfinance' for get_stock_data (attempt #1)
DEBUG: Calling get_YFin_data_online from vendor 'yfinance'...
SUCCESS: get_YFin_data_online from vendor 'yfinance' completed successfully
SUCCESS: Vendor 'yfinance' succeeded - Got 1 result(s)
DEBUG: Stopping after successful vendor 'yfinance' (single-vendor config)
FINAL: Method 'get_stock_data' completed with 1 result(s) from 1 vendor attempt(s)
INFO: Skipping 'get_news' (vendor='skip' in config) - analysis will continue with available data
INFO: Skipping 'get_global_news' (vendor='skip' in config) - analysis will continue with available data
DEBUG: get_fundamentals - Primary: [yfinance] | Full fallback order: [yfinance ‚Üí alpha_vantage]
DEBUG: Attempting PRIMARY vendor 'yfinance' for get_fundamentals (attempt #1)
DEBUG: Calling get_fundamentals from vendor 'yfinance'...
SUCCESS: get_fundamentals from vendor 'yfinance' completed successfully
SUCCESS: Vendor 'yfinance' succeeded - Got 1 result(s)
DEBUG: Stopping after successful vendor 'yfinance' (single-vendor config)
FINAL: Method 'get_fundamentals' completed with 1 result(s) from 1 vendor attempt(s)
INFO:     127.0.0.1:58405 - "POST /chat HTTP/1.1" 200 OK
INFO:tradingagents.bot.conversational_agent:Detected intent: CHAT for message: Hello...
 GET / 200 in 43ms (compile: 4ms, render: 39ms)
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:tradingagents.bot.conversational_agent:Detected intent: CHAT for message: Hello...
INFO:     127.0.0.1:58405 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:59104 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:59252 - "GET / HTTP/1.1" 200 OK
INFO:tradingagents.bot.conversational_agent:Detected intent: CHAT for message: Hello...
INFO:     127.0.0.1:59259 - "POST /chat HTTP/1.1" 200 OK
 GET / 200 in 20ms (compile: 1945¬µs, render: 18ms)
 ‚úì Compiled in 78ms
INFO:watchfiles.main:5 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:5 changes detected
INFO:watchfiles.main:1 change detected
INFO:tradingagents.graph.profitability_enhancer:Market regime: bull, Volatility: normal
INFO:tradingagents.decision.sector_rotation:Sector rotation detected: 0 overweight, 0 underweight
INFO:tradingagents.graph.profitability_enhancer:Sector Technology action: NEUTRAL
WARNING:tradingagents.graph.profitability_enhancer:Error calculating position size: [<class 'decimal.DivisionByZero'>]
WARNING:tradingagents.graph.profitability_enhancer:Error calculating exit strategy: [<class 'decimal.DivisionUndefined'>]
INFO:tradingagents.graph.trading_graph:‚úì Profitability enhancements calculated for AAPL
ERROR:tradingagents.rag.embeddings:Embedding API error: 500 - {"error":"do embedding request: Post \"http://127.0.0.1:57474/embedding\": EOF"}
ERROR:tradingagents.graph.trading_graph:Error storing analysis to database: 'AnalysisOperations' object has no attribute 'create_analysis'
INFO:tradingagents.bot.tools:‚úì Analysis complete for AAPL
INFO:watchfiles.main:2 changes detected
[?25h
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:54 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:24 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:tradingagents.bot.conversational_agent:Detected intent: KNOWLEDGE for message: What is RSI in trading?...
INFO:tradingagents.bot.conversational_agent:Detected intent: ANALYSIS for message: Analyze AAPL...
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:6 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:5 changes detected
INFO:     127.0.0.1:61327 - "POST /chat HTTP/1.1" 200 OK
INFO:openai._base_client:Retrying request to /chat/completions in 0.494883 seconds
INFO:watchfiles.main:1 change detected
INFO:openai._base_client:Retrying request to /chat/completions in 0.398175 seconds
INFO:openai._base_client:Retrying request to /chat/completions in 0.892358 seconds
INFO:openai._base_client:Retrying request to /chat/completions in 0.994228 seconds
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:3 changes detected
INFO:watchfiles.main:2 changes detected
WARNING:tradingagents.bot.agent:No content yielded from astream - agent may have only made tool calls
INFO:watchfiles.main:1 change detected
WARNING:  WatchFiles detected changes in 'tradingagents/api/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for connections to close. (CTRL+C to force quit)
INFO:tradingagents.bot.tools:üîç Starting comprehensive analysis for AAPL
INFO:tradingagents.bot.tools:üìä Activating specialized agent team...
INFO:tradingagents.graph.trading_graph:‚úì Langfuse tracing enabled
INFO:tradingagents.graph.trading_graph:Detected Market Regime: VOLATILE
INFO:tradingagents.graph.trading_graph:Adjusted risk discussion rounds to 5 (Volatile Market)
INFO:tradingagents.graph.trading_graph:‚úì RAG system initialized
INFO:tradingagents.portfolio.position_sizer:Position sizer initialized: $10,000.00 portfolio, moderate risk, 10.0% max position
INFO:tradingagents.graph.profitability_enhancer:Profitability enhancer initialized
INFO:tradingagents.graph.trading_graph:‚úì Profitability enhancer initialized
INFO:tradingagents.graph.trading_graph:Using timeout of 300s for Ollama model: llama3.1
INFO:tradingagents.analyze.analyzer:‚úì DeepAnalyzer initialized
INFO:tradingagents.bot.tools:ü§ñ Running multi-agent analysis (30-90 seconds)...
INFO:tradingagents.analyze.analyzer:
======================================================================
INFO:tradingagents.analyze.analyzer:DEEP ANALYSIS: AAPL on 2025-11-19
INFO:tradingagents.analyze.analyzer:======================================================================

INFO:tradingagents.validation.circuit_breaker:Running circuit breaker check for AAPL...
INFO:tradingagents.validation.circuit_breaker:Circuit breaker passed for AAPL. Confidence: 10.0/10
INFO:tradingagents.database.rag_ops:Found 2 similar analyses
INFO:tradingagents.rag.context_retriever:Found 2 similar analyses for AAPL
INFO:tradingagents.database.rag_ops:Found 5 similar analyses
INFO:tradingagents.graph.profitability_enhancer:Market regime: bull, Volatility: normal
INFO:tradingagents.decision.sector_rotation:Sector rotation detected: 0 overweight, 0 underweight
INFO:tradingagents.graph.profitability_enhancer:Sector Technology action: NEUTRAL
WARNING:tradingagents.graph.profitability_enhancer:Error calculating position size: [<class 'decimal.DivisionByZero'>]
WARNING:tradingagents.graph.profitability_enhancer:Error calculating exit strategy: [<class 'decimal.DivisionUndefined'>]
INFO:tradingagents.graph.trading_graph:‚úì Profitability enhancements calculated for AAPL
ERROR:tradingagents.rag.embeddings:Embedding API error: 500 - {"error":"do embedding request: Post \"http://127.0.0.1:53173/embedding\": EOF"}
ERROR:tradingagents.graph.trading_graph:Error storing analysis to database: 'AnalysisOperations' object has no attribute 'create_analysis'
INFO:tradingagents.bot.tools:‚úì Analysis complete for AAPL
WARNING:tradingagents.bot.agent:No content yielded from astream - agent may have only made tool calls
Error fetching Alpaca data for AAPL: Alpaca API keys not found. Please set ALPACA_API_KEY and ALPACA_SECRET_KEY.
Error fetching Polygon data for AAPL: Polygon API key not found. Please set POLYGON_API_KEY.
DEBUG: get_stock_data - Primary: [yfinance] | Full fallback order: [yfinance ‚Üí alpha_vantage ‚Üí local ‚Üí alpaca ‚Üí polygon]
DEBUG: Attempting PRIMARY vendor 'yfinance' for get_stock_data (attempt #1)
DEBUG: Calling get_YFin_data_online from vendor 'yfinance'...
SUCCESS: get_YFin_data_online from vendor 'yfinance' completed successfully
SUCCESS: Vendor 'yfinance' succeeded - Got 1 result(s)
DEBUG: Stopping after successful vendor 'yfinance' (single-vendor config)
FINAL: Method 'get_stock_data' completed with 1 result(s) from 1 vendor attempt(s)
INFO: Skipping 'get_news' (vendor='skip' in config) - analysis will continue with available data
INFO: Skipping 'get_global_news' (vendor='skip' in config) - analysis will continue with available data
DEBUG: get_fundamentals - Primary: [yfinance] | Full fallback order: [yfinance ‚Üí alpha_vantage]
DEBUG: Attempting PRIMARY vendor 'yfinance' for get_fundamentals (attempt #1)
DEBUG: Calling get_fundamentals from vendor 'yfinance'...
SUCCESS: get_fundamentals from vendor 'yfinance' completed successfully
SUCCESS: Vendor 'yfinance' succeeded - Got 1 result(s)
DEBUG: Stopping after successful vendor 'yfinance' (single-vendor config)
FINAL: Method 'get_fundamentals' completed with 1 result(s) from 1 vendor attempt(s)
INFO:     127.0.0.1:61349 - "POST /chat HTTP/1.1" 200 OK
INFO:     Waiting for application shutdown.
INFO:api:Shutting down API...
INFO:     Application shutdown complete.
INFO:     Finished server process [14372]
INFO:watchfiles.main:34 changes detected
WARNING:  WatchFiles detected changes in 'tradingagents/api/main.py', 'validate_langfuse_integration.py'. Reloading...
INFO:watchfiles.main:1 change detected
INFO:     Started server process [22152]
INFO:     Waiting for application startup.
INFO:api:Initializing Conversational Agent...
INFO:api:Langfuse tracing enabled via environment variables
INFO:tradingagents.bot.agent:‚úì TradingAgent initialized with 23 tools
INFO:tradingagents.database.connection:‚úì Monitored connection pool created for 'investment_intelligence'
INFO:tradingagents.database.learning_ops:‚úì Learning tables initialized
INFO:api:Conversational Agent and Learning Ops initialized successfully.
INFO:     Application startup complete.
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:5 changes detected
WARNING:  WatchFiles detected changes in 'tradingagents/bot/__main__.py', 'tradingagents/bot/chainlit_app.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:api:Shutting down API...
INFO:     Application shutdown complete.
INFO:     Finished server process [22152]
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:5 changes detected
INFO:     Started server process [22409]
INFO:     Waiting for application startup.
INFO:api:Initializing Conversational Agent...
INFO:api:Langfuse tracing enabled via environment variables
INFO:tradingagents.bot.agent:‚úì TradingAgent initialized with 23 tools
INFO:tradingagents.database.connection:‚úì Monitored connection pool created for 'investment_intelligence'
INFO:tradingagents.database.learning_ops:‚úì Learning tables initialized
INFO:api:Conversational Agent and Learning Ops initialized successfully.
INFO:     Application startup complete.
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
WARNING:  WatchFiles detected changes in 'scripts/organize_root_files.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:api:Shutting down API...
INFO:     Application shutdown complete.
INFO:     Finished server process [22409]
INFO:     Started server process [22438]
INFO:     Waiting for application startup.
INFO:api:Initializing Conversational Agent...
INFO:api:Langfuse tracing enabled via environment variables
INFO:tradingagents.bot.agent:‚úì TradingAgent initialized with 23 tools
INFO:tradingagents.database.connection:‚úì Monitored connection pool created for 'investment_intelligence'
INFO:tradingagents.database.learning_ops:‚úì Learning tables initialized
INFO:api:Conversational Agent and Learning Ops initialized successfully.
INFO:     Application startup complete.
./start_assistant.sh: line 49: 14264 Killed: 9               python -m tradingagents.api.main  (wd: ~/Developer/eval/TradingAgents)
